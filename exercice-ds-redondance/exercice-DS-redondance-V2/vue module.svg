<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1366px" preserveAspectRatio="none" style="width:2799px;height:1366px;background:#FFFFFF;" version="1.1" viewBox="0 0 2799 1366" width="2799px" zoomAndPan="magnify"><defs/><g><!--MD5=[4ff2070df88455c106f66df98914223b]
cluster SystemeSommation--><g id="cluster_SystemeSommation"><path d="M517,284 L680,284 A3.75,3.75 0 0 1 682.5,286.5 L689.5,306.2969 L1998,306.2969 A2.5,2.5 0 0 1 2000.5,308.7969 L2000.5,1356.5 A2.5,2.5 0 0 1 1998,1359 L517,1359 A2.5,2.5 0 0 1 514.5,1356.5 L514.5,286.5 A2.5,2.5 0 0 1 517,284 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="514.5" x2="689.5" y1="306.2969" y2="306.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162" x="518.5" y="298.9951">SystemeSommation</text></g><!--MD5=[5822f30355694532b1c3752bebe05682]
cluster Capteur--><g id="cluster_Capteur"><path d="M804,6 L869,6 A3.75,3.75 0 0 1 871.5,8.5 L878.5,28.2969 L1697,28.2969 A2.5,2.5 0 0 1 1699.5,30.7969 L1699.5,232.5 A2.5,2.5 0 0 1 1697,235 L804,235 A2.5,2.5 0 0 1 801.5,232.5 L801.5,8.5 A2.5,2.5 0 0 1 804,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="801.5" x2="878.5" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="64" x="805.5" y="20.9951">Capteur</text></g><!--MD5=[c15471f36c92251f7f51856d416e31ac]
cluster Sommateur--><g id="cluster_Sommateur"><path d="M2027,957 L2122,957 A3.75,3.75 0 0 1 2124.5,959.5 L2131.5,979.2969 L2701,979.2969 A2.5,2.5 0 0 1 2703.5,981.7969 L2703.5,1348 A2.5,2.5 0 0 1 2701,1350.5 L2027,1350.5 A2.5,2.5 0 0 1 2024.5,1348 L2024.5,959.5 A2.5,2.5 0 0 1 2027,957 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="2024.5" x2="2131.5" y1="979.2969" y2="979.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="94" x="2028.5" y="971.9951">Sommateur</text></g><!--MD5=[6904b8625e58b6dd99ca18fbb4ce8b60]
class SI--><g id="elem_SI"><rect codeLine="3" fill="#F1F1F1" height="145.7813" id="SI" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="487" x="1056" y="1197"/><ellipse cx="1239.25" cy="1213" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1241.5938,1208.6719 C1240.6563,1208.2344 1240.0625,1208.0938 1239.1875,1208.0938 C1236.5625,1208.0938 1234.5625,1210.1719 1234.5625,1212.8906 L1234.5625,1214.0156 C1234.5625,1216.5938 1236.6719,1218.4844 1239.5625,1218.4844 C1240.7813,1218.4844 1241.9375,1218.1875 1242.6875,1217.6406 C1243.2656,1217.2344 1243.5938,1216.7813 1243.5938,1216.3906 C1243.5938,1215.9375 1243.2031,1215.5469 1242.7344,1215.5469 C1242.5156,1215.5469 1242.3125,1215.625 1242.125,1215.8125 C1241.6719,1216.2969 1241.6719,1216.2969 1241.4844,1216.3906 C1241.0625,1216.6563 1240.375,1216.7813 1239.6094,1216.7813 C1237.5625,1216.7813 1236.2656,1215.6875 1236.2656,1213.9844 L1236.2656,1212.8906 C1236.2656,1211.1094 1237.5156,1209.7969 1239.25,1209.7969 C1239.8281,1209.7969 1240.4375,1209.9531 1240.9063,1210.2031 C1241.3906,1210.4844 1241.5625,1210.7031 1241.6563,1211.1094 C1241.7188,1211.5156 1241.75,1211.6406 1241.8906,1211.7656 C1242.0313,1211.9063 1242.2656,1212.0156 1242.4844,1212.0156 C1242.75,1212.0156 1243.0156,1211.875 1243.1875,1211.6563 C1243.2969,1211.5 1243.3281,1211.3125 1243.3281,1210.8906 L1243.3281,1209.4688 C1243.3281,1209.0313 1243.3125,1208.9063 1243.2188,1208.75 C1243.0625,1208.4844 1242.7813,1208.3438 1242.4844,1208.3438 C1242.1875,1208.3438 1241.9844,1208.4375 1241.7656,1208.75 L1241.5938,1208.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1259.75" y="1217.8467">SommateurInfo</text><line style="stroke:#181818;stroke-width:0.5;" x1="1057" x2="1542" y1="1229" y2="1229"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="1062" y="1245.9951">id:integer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1062" y="1262.292">url:string,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1062" y="1278.5889">port:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1062" y="1294.8857">static string filename</text><line style="stroke:#181818;stroke-width:0.5;" x1="1057" x2="1542" y1="1302.1875" y2="1302.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="475" x="1062" y="1319.1826">static sommateurs:Sommateur[3] = readFromFile(filename:string)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240" x="1062" y="1335.4795">static saveToFile(filename:string)</text></g><!--MD5=[6b1b657bd82d62b5d9b3cfbe6518ad20]
class IOC--><g id="elem_IOC"><rect codeLine="11" fill="#F1F1F1" height="113.1875" id="IOC" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="806" x="1178.5" y="781"/><ellipse cx="1513.25" cy="797" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1514.2031,793.7813 L1515.9219,793.7813 C1516.3125,793.7813 1516.5,793.75 1516.625,793.6719 C1516.8906,793.5156 1517.0313,793.2344 1517.0313,792.9375 C1517.0313,792.6719 1516.9219,792.4063 1516.6875,792.2344 C1516.5156,792.125 1516.375,792.0938 1515.9219,792.0938 L1510.7813,792.0938 C1510.3438,792.0938 1510.2188,792.1094 1510.0625,792.2031 C1509.8125,792.3594 1509.6563,792.6563 1509.6563,792.9375 C1509.6563,793.2188 1509.7969,793.4688 1510.0156,793.6406 C1510.1719,793.75 1510.3594,793.7813 1510.7813,793.7813 L1512.5,793.7813 L1512.5,800.2969 L1510.7813,800.2969 C1510.3438,800.2969 1510.2188,800.3125 1510.0625,800.4219 C1509.8125,800.5781 1509.6563,800.8594 1509.6563,801.1563 C1509.6563,801.4063 1509.7969,801.6719 1510.0156,801.8281 C1510.1719,801.9531 1510.375,802 1510.7813,802 L1515.9219,802 C1516.6719,802 1517.0313,801.7188 1517.0313,801.1563 C1517.0313,800.875 1516.9219,800.625 1516.6875,800.4531 C1516.5156,800.3281 1516.375,800.2969 1515.9219,800.2969 L1514.2031,800.2969 L1514.2031,793.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="128" x="1533.75" y="801.8467">IOrchestrateurCtrl</text><line style="stroke:#181818;stroke-width:0.5;" x1="1179.5" x2="1983.5" y1="813" y2="813"/><line style="stroke:#181818;stroke-width:0.5;" x1="1179.5" x2="1983.5" y1="821" y2="821"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330" x="1184.5" y="837.9951">sommateurDefectueux(idSommateur:integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="624" x="1184.5" y="854.292">sommateurFonctionnel = getSommateurFonctionne(idSommateurDefectueux:integer)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="794" x="1184.5" y="870.5889">nouveauSommateur:ISommateurCtrl = createSommateur(id:integer, states:[id:integer,value:float],vote:IVote)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="646" x="1184.5" y="886.8857">replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)</text></g><!--MD5=[255014859fcd18787a2ae9f2a405ae60]
class O--><g id="elem_O"><rect codeLine="17" fill="#F1F1F1" height="80.5938" id="O" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="373" x="1395" y="1008"/><ellipse cx="1526.75" cy="1024" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1529.0938,1019.6719 C1528.1563,1019.2344 1527.5625,1019.0938 1526.6875,1019.0938 C1524.0625,1019.0938 1522.0625,1021.1719 1522.0625,1023.8906 L1522.0625,1025.0156 C1522.0625,1027.5938 1524.1719,1029.4844 1527.0625,1029.4844 C1528.2813,1029.4844 1529.4375,1029.1875 1530.1875,1028.6406 C1530.7656,1028.2344 1531.0938,1027.7813 1531.0938,1027.3906 C1531.0938,1026.9375 1530.7031,1026.5469 1530.2344,1026.5469 C1530.0156,1026.5469 1529.8125,1026.625 1529.625,1026.8125 C1529.1719,1027.2969 1529.1719,1027.2969 1528.9844,1027.3906 C1528.5625,1027.6563 1527.875,1027.7813 1527.1094,1027.7813 C1525.0625,1027.7813 1523.7656,1026.6875 1523.7656,1024.9844 L1523.7656,1023.8906 C1523.7656,1022.1094 1525.0156,1020.7969 1526.75,1020.7969 C1527.3281,1020.7969 1527.9375,1020.9531 1528.4063,1021.2031 C1528.8906,1021.4844 1529.0625,1021.7031 1529.1563,1022.1094 C1529.2188,1022.5156 1529.25,1022.6406 1529.3906,1022.7656 C1529.5313,1022.9063 1529.7656,1023.0156 1529.9844,1023.0156 C1530.25,1023.0156 1530.5156,1022.875 1530.6875,1022.6563 C1530.7969,1022.5 1530.8281,1022.3125 1530.8281,1021.8906 L1530.8281,1020.4688 C1530.8281,1020.0313 1530.8125,1019.9063 1530.7188,1019.75 C1530.5625,1019.4844 1530.2813,1019.3438 1529.9844,1019.3438 C1529.6875,1019.3438 1529.4844,1019.4375 1529.2656,1019.75 L1529.0938,1019.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1547.25" y="1028.8467">Orchestrateur</text><line style="stroke:#181818;stroke-width:0.5;" x1="1396" x2="1767" y1="1040" y2="1040"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228" x="1401" y="1056.9951">sommateurs:ISommateurCtrl[3]</text><line style="stroke:#181818;stroke-width:0.5;" x1="1396" x2="1767" y1="1064.2969" y2="1064.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="361" x="1401" y="1081.292">Orchestrateur(sommateurInfo:ISommateurInfo[3])</text></g><!--MD5=[1e578654aa9a5af632ee5da52a3f0f7c]
class IV--><g id="elem_IV"><rect codeLine="23" fill="#F1F1F1" height="129.4844" id="IV" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243" x="1129" y="319"/><ellipse cx="1202.25" cy="335" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1203.2031,331.7813 L1204.9219,331.7813 C1205.3125,331.7813 1205.5,331.75 1205.625,331.6719 C1205.8906,331.5156 1206.0313,331.2344 1206.0313,330.9375 C1206.0313,330.6719 1205.9219,330.4063 1205.6875,330.2344 C1205.5156,330.125 1205.375,330.0938 1204.9219,330.0938 L1199.7813,330.0938 C1199.3438,330.0938 1199.2188,330.1094 1199.0625,330.2031 C1198.8125,330.3594 1198.6563,330.6563 1198.6563,330.9375 C1198.6563,331.2188 1198.7969,331.4688 1199.0156,331.6406 C1199.1719,331.75 1199.3594,331.7813 1199.7813,331.7813 L1201.5,331.7813 L1201.5,338.2969 L1199.7813,338.2969 C1199.3438,338.2969 1199.2188,338.3125 1199.0625,338.4219 C1198.8125,338.5781 1198.6563,338.8594 1198.6563,339.1563 C1198.6563,339.4063 1198.7969,339.6719 1199.0156,339.8281 C1199.1719,339.9531 1199.375,340 1199.7813,340 L1204.9219,340 C1205.6719,340 1206.0313,339.7188 1206.0313,339.1563 C1206.0313,338.875 1205.9219,338.625 1205.6875,338.4531 C1205.5156,338.3281 1205.375,338.2969 1204.9219,338.2969 L1203.2031,338.2969 L1203.2031,331.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="88" x="1222.75" y="339.8467">ISommateur</text><line style="stroke:#181818;stroke-width:0.5;" x1="1130" x2="1371" y1="351" y2="351"/><line style="stroke:#181818;stroke-width:0.5;" x1="1130" x2="1371" y1="359" y2="359"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="1135" y="375.9951">[id,value] = updatedSommation(</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1135" y="392.292">idSommateur:integer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1135" y="408.5889">shadow:boolean,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1135" y="424.8857">idCapteur:integer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1135" y="441.1826">value:float)</text></g><!--MD5=[1ae2715697942bd221ebc3232bf48911]
class V--><g id="elem_V"><rect codeLine="26" fill="#F1F1F1" height="210.9688" id="V" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="935" x="783" y="509"/><ellipse cx="1228.75" cy="525" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1231.0938,520.6719 C1230.1563,520.2344 1229.5625,520.0938 1228.6875,520.0938 C1226.0625,520.0938 1224.0625,522.1719 1224.0625,524.8906 L1224.0625,526.0156 C1224.0625,528.5938 1226.1719,530.4844 1229.0625,530.4844 C1230.2813,530.4844 1231.4375,530.1875 1232.1875,529.6406 C1232.7656,529.2344 1233.0938,528.7813 1233.0938,528.3906 C1233.0938,527.9375 1232.7031,527.5469 1232.2344,527.5469 C1232.0156,527.5469 1231.8125,527.625 1231.625,527.8125 C1231.1719,528.2969 1231.1719,528.2969 1230.9844,528.3906 C1230.5625,528.6563 1229.875,528.7813 1229.1094,528.7813 C1227.0625,528.7813 1225.7656,527.6875 1225.7656,525.9844 L1225.7656,524.8906 C1225.7656,523.1094 1227.0156,521.7969 1228.75,521.7969 C1229.3281,521.7969 1229.9375,521.9531 1230.4063,522.2031 C1230.8906,522.4844 1231.0625,522.7031 1231.1563,523.1094 C1231.2188,523.5156 1231.25,523.6406 1231.3906,523.7656 C1231.5313,523.9063 1231.7656,524.0156 1231.9844,524.0156 C1232.25,524.0156 1232.5156,523.875 1232.6875,523.6563 C1232.7969,523.5 1232.8281,523.3125 1232.8281,522.8906 L1232.8281,521.4688 C1232.8281,521.0313 1232.8125,520.9063 1232.7188,520.75 C1232.5625,520.4844 1232.2813,520.3438 1231.9844,520.3438 C1231.6875,520.3438 1231.4844,520.4375 1231.2656,520.75 L1231.0938,520.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1249.25" y="529.8467">Vote</text><line style="stroke:#181818;stroke-width:0.5;" x1="784" x2="1717" y1="541" y2="541"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="789" y="557.9951">url:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="789" y="574.292">port:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="789" y="590.5889">securityToken:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="789" y="606.8857">sommateurs:ISommateur[3]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="789" y="623.1826">orchestrateur:IOrchestrateurCtrl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235" x="789" y="639.4795">dataWebServer:IDataWebServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="784" x2="1717" y1="646.7813" y2="646.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="923" x="789" y="663.7764">Vote(dataWebServer:IDataWebServer,orchestrateur:IOrchestrateurCtrl,sommateurInfo:SommateurInfo[3],securityToken:string)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="789" y="680.0732">[value,idSommateurInError]=</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="789" y="696.3701">canSendSommationData(</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="789" y="712.667">id1,value1,id2,value2,id3,value3)</text></g><!--MD5=[dbbc0727f61cb6df235cf828e1bafaf6]
class IDWS--><g id="elem_IDWS"><rect codeLine="38" fill="#F1F1F1" height="96.8906" id="IDWS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="567" x="531" y="789"/><ellipse cx="751.75" cy="805" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M752.7031,801.7813 L754.4219,801.7813 C754.8125,801.7813 755,801.75 755.125,801.6719 C755.3906,801.5156 755.5313,801.2344 755.5313,800.9375 C755.5313,800.6719 755.4219,800.4063 755.1875,800.2344 C755.0156,800.125 754.875,800.0938 754.4219,800.0938 L749.2813,800.0938 C748.8438,800.0938 748.7188,800.1094 748.5625,800.2031 C748.3125,800.3594 748.1563,800.6563 748.1563,800.9375 C748.1563,801.2188 748.2969,801.4688 748.5156,801.6406 C748.6719,801.75 748.8594,801.7813 749.2813,801.7813 L751,801.7813 L751,808.2969 L749.2813,808.2969 C748.8438,808.2969 748.7188,808.3125 748.5625,808.4219 C748.3125,808.5781 748.1563,808.8594 748.1563,809.1563 C748.1563,809.4063 748.2969,809.6719 748.5156,809.8281 C748.6719,809.9531 748.875,810 749.2813,810 L754.4219,810 C755.1719,810 755.5313,809.7188 755.5313,809.1563 C755.5313,808.875 755.4219,808.625 755.1875,808.4531 C755.0156,808.3281 754.875,808.2969 754.4219,808.2969 L752.7031,808.2969 L752.7031,801.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="117" x="772.25" y="809.8467">IDataWebServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="532" x2="1097" y1="821" y2="821"/><line style="stroke:#181818;stroke-width:0.5;" x1="532" x2="1097" y1="829" y2="829"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="345" x="537" y="845.9951">updateData(id:integer, name:string, value:float)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="436" x="537" y="862.292">token:string = authenticate(clientId:string, clientKey:string)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="555" x="537" y="878.5889">res:[capteur_id:integer,value:float] = getSommationData(clientToken:string)</text></g><!--MD5=[a36fb19355c4189f4ca639e2f89741d9]
class DWS--><g id="elem_DWS"><rect codeLine="43" fill="#F1F1F1" height="96.8906" id="DWS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="288" x="670.5" y="1000"/><ellipse cx="753.25" cy="1016" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M755.5938,1011.6719 C754.6563,1011.2344 754.0625,1011.0938 753.1875,1011.0938 C750.5625,1011.0938 748.5625,1013.1719 748.5625,1015.8906 L748.5625,1017.0156 C748.5625,1019.5938 750.6719,1021.4844 753.5625,1021.4844 C754.7813,1021.4844 755.9375,1021.1875 756.6875,1020.6406 C757.2656,1020.2344 757.5938,1019.7813 757.5938,1019.3906 C757.5938,1018.9375 757.2031,1018.5469 756.7344,1018.5469 C756.5156,1018.5469 756.3125,1018.625 756.125,1018.8125 C755.6719,1019.2969 755.6719,1019.2969 755.4844,1019.3906 C755.0625,1019.6563 754.375,1019.7813 753.6094,1019.7813 C751.5625,1019.7813 750.2656,1018.6875 750.2656,1016.9844 L750.2656,1015.8906 C750.2656,1014.1094 751.5156,1012.7969 753.25,1012.7969 C753.8281,1012.7969 754.4375,1012.9531 754.9063,1013.2031 C755.3906,1013.4844 755.5625,1013.7031 755.6563,1014.1094 C755.7188,1014.5156 755.75,1014.6406 755.8906,1014.7656 C756.0313,1014.9063 756.2656,1015.0156 756.4844,1015.0156 C756.75,1015.0156 757.0156,1014.875 757.1875,1014.6563 C757.2969,1014.5 757.3281,1014.3125 757.3281,1013.8906 L757.3281,1012.4688 C757.3281,1012.0313 757.3125,1011.9063 757.2188,1011.75 C757.0625,1011.4844 756.7813,1011.3438 756.4844,1011.3438 C756.1875,1011.3438 755.9844,1011.4375 755.7656,1011.75 L755.5938,1011.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="773.75" y="1020.8467">DataWebServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="671.5" x2="957.5" y1="1032" y2="1032"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="676.5" y="1048.9951">url:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="676.5" y="1065.292">port:string</text><line style="stroke:#181818;stroke-width:0.5;" x1="671.5" x2="957.5" y1="1072.5938" y2="1072.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="676.5" y="1089.5889">DataWebServer(url:string, port:string)</text></g><!--MD5=[378b18254a1b2429f435e93f5e5cc50c]
class C--><g id="elem_C"><rect codeLine="51" fill="#F1F1F1" height="178.375" id="C" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="866" x="817.5" y="41"/><ellipse cx="1217.25" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1219.5938,52.6719 C1218.6563,52.2344 1218.0625,52.0938 1217.1875,52.0938 C1214.5625,52.0938 1212.5625,54.1719 1212.5625,56.8906 L1212.5625,58.0156 C1212.5625,60.5938 1214.6719,62.4844 1217.5625,62.4844 C1218.7813,62.4844 1219.9375,62.1875 1220.6875,61.6406 C1221.2656,61.2344 1221.5938,60.7813 1221.5938,60.3906 C1221.5938,59.9375 1221.2031,59.5469 1220.7344,59.5469 C1220.5156,59.5469 1220.3125,59.625 1220.125,59.8125 C1219.6719,60.2969 1219.6719,60.2969 1219.4844,60.3906 C1219.0625,60.6563 1218.375,60.7813 1217.6094,60.7813 C1215.5625,60.7813 1214.2656,59.6875 1214.2656,57.9844 L1214.2656,56.8906 C1214.2656,55.1094 1215.5156,53.7969 1217.25,53.7969 C1217.8281,53.7969 1218.4375,53.9531 1218.9063,54.2031 C1219.3906,54.4844 1219.5625,54.7031 1219.6563,55.1094 C1219.7188,55.5156 1219.75,55.6406 1219.8906,55.7656 C1220.0313,55.9063 1220.2656,56.0156 1220.4844,56.0156 C1220.75,56.0156 1221.0156,55.875 1221.1875,55.6563 C1221.2969,55.5 1221.3281,55.3125 1221.3281,54.8906 L1221.3281,53.4688 C1221.3281,53.0313 1221.3125,52.9063 1221.2188,52.75 C1221.0625,52.4844 1220.7813,52.3438 1220.4844,52.3438 C1220.1875,52.3438 1219.9844,52.4375 1219.7656,52.75 L1219.5938,52.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="1237.75" y="61.8467">Capteur</text><line style="stroke:#181818;stroke-width:0.5;" x1="818.5" x2="1682.5" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="823.5" y="89.9951">id:integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="823.5" y="106.292">frequence:int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="823.5" y="122.5889">name:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="823.5" y="138.8857">value:float</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="823.5" y="155.1826">urlSommateur: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="823.5" y="171.4795">portSommateur:string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="823.5" y="187.7764">token: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="818.5" x2="1682.5" y1="195.0781" y2="195.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="854" x="823.5" y="212.0732">Capteur(id:integer,frequence:int,  name:string,  urlSommateur:string, portSommateur:string, sommateurToken:string)</text></g><!--MD5=[68f90efa93000b3b6096abaa1f81a67e]
class IS--><g id="elem_IS"><rect codeLine="64" fill="#F1F1F1" height="129.4844" id="IS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243" x="2444" y="1205.5"/><ellipse cx="2517.25" cy="1221.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2518.2031,1218.2813 L2519.9219,1218.2813 C2520.3125,1218.2813 2520.5,1218.25 2520.625,1218.1719 C2520.8906,1218.0156 2521.0313,1217.7344 2521.0313,1217.4375 C2521.0313,1217.1719 2520.9219,1216.9063 2520.6875,1216.7344 C2520.5156,1216.625 2520.375,1216.5938 2519.9219,1216.5938 L2514.7813,1216.5938 C2514.3438,1216.5938 2514.2188,1216.6094 2514.0625,1216.7031 C2513.8125,1216.8594 2513.6563,1217.1563 2513.6563,1217.4375 C2513.6563,1217.7188 2513.7969,1217.9688 2514.0156,1218.1406 C2514.1719,1218.25 2514.3594,1218.2813 2514.7813,1218.2813 L2516.5,1218.2813 L2516.5,1224.7969 L2514.7813,1224.7969 C2514.3438,1224.7969 2514.2188,1224.8125 2514.0625,1224.9219 C2513.8125,1225.0781 2513.6563,1225.3594 2513.6563,1225.6563 C2513.6563,1225.9063 2513.7969,1226.1719 2514.0156,1226.3281 C2514.1719,1226.4531 2514.375,1226.5 2514.7813,1226.5 L2519.9219,1226.5 C2520.6719,1226.5 2521.0313,1226.2188 2521.0313,1225.6563 C2521.0313,1225.375 2520.9219,1225.125 2520.6875,1224.9531 C2520.5156,1224.8281 2520.375,1224.7969 2519.9219,1224.7969 L2518.2031,1224.7969 L2518.2031,1218.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="88" x="2537.75" y="1226.3467">ISommateur</text><line style="stroke:#181818;stroke-width:0.5;" x1="2445" x2="2686" y1="1237.5" y2="1237.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="2445" x2="2686" y1="1245.5" y2="1245.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="2450" y="1262.4951">[id,value] = updatedSommation(</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="2450" y="1278.792">idSommateur:integer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2450" y="1295.0889">shadow:boolean,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="2450" y="1311.3857">idCapteur:integer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="2450" y="1327.6826">value:float)</text></g><!--MD5=[13edb7c98ef088fb49701e31d3bf08a5]
class ISC--><g id="elem_ISC"><rect codeLine="67" fill="#F1F1F1" height="80.5938" id="ISC" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="364" x="2040.5" y="1229.5"/><ellipse cx="2161.75" cy="1245.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2162.7031,1242.2813 L2164.4219,1242.2813 C2164.8125,1242.2813 2165,1242.25 2165.125,1242.1719 C2165.3906,1242.0156 2165.5313,1241.7344 2165.5313,1241.4375 C2165.5313,1241.1719 2165.4219,1240.9063 2165.1875,1240.7344 C2165.0156,1240.625 2164.875,1240.5938 2164.4219,1240.5938 L2159.2813,1240.5938 C2158.8438,1240.5938 2158.7188,1240.6094 2158.5625,1240.7031 C2158.3125,1240.8594 2158.1563,1241.1563 2158.1563,1241.4375 C2158.1563,1241.7188 2158.2969,1241.9688 2158.5156,1242.1406 C2158.6719,1242.25 2158.8594,1242.2813 2159.2813,1242.2813 L2161,1242.2813 L2161,1248.7969 L2159.2813,1248.7969 C2158.8438,1248.7969 2158.7188,1248.8125 2158.5625,1248.9219 C2158.3125,1249.0781 2158.1563,1249.3594 2158.1563,1249.6563 C2158.1563,1249.9063 2158.2969,1250.1719 2158.5156,1250.3281 C2158.6719,1250.4531 2158.875,1250.5 2159.2813,1250.5 L2164.4219,1250.5 C2165.1719,1250.5 2165.5313,1250.2188 2165.5313,1249.6563 C2165.5313,1249.375 2165.4219,1249.125 2165.1875,1248.9531 C2165.0156,1248.8281 2164.875,1248.7969 2164.4219,1248.7969 L2162.7031,1248.7969 L2162.7031,1242.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="113" x="2182.25" y="1250.3467">ISommateurCtrl</text><line style="stroke:#181818;stroke-width:0.5;" x1="2041.5" x2="2403.5" y1="1261.5" y2="1261.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="2041.5" x2="2403.5" y1="1269.5" y2="1269.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352" x="2046.5" y="1286.4951">states:[id:integer,value:float]=getCurrentState()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="2046.5" y="1302.792">kill()</text></g><!--MD5=[8d919f42174a8592853f0e252dac1126]
class S--><g id="elem_S"><rect codeLine="71" fill="#F1F1F1" height="113.1875" id="S" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="457" x="2045" y="992"/><ellipse cx="2227.25" cy="1008" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2229.5938,1003.6719 C2228.6563,1003.2344 2228.0625,1003.0938 2227.1875,1003.0938 C2224.5625,1003.0938 2222.5625,1005.1719 2222.5625,1007.8906 L2222.5625,1009.0156 C2222.5625,1011.5938 2224.6719,1013.4844 2227.5625,1013.4844 C2228.7813,1013.4844 2229.9375,1013.1875 2230.6875,1012.6406 C2231.2656,1012.2344 2231.5938,1011.7813 2231.5938,1011.3906 C2231.5938,1010.9375 2231.2031,1010.5469 2230.7344,1010.5469 C2230.5156,1010.5469 2230.3125,1010.625 2230.125,1010.8125 C2229.6719,1011.2969 2229.6719,1011.2969 2229.4844,1011.3906 C2229.0625,1011.6563 2228.375,1011.7813 2227.6094,1011.7813 C2225.5625,1011.7813 2224.2656,1010.6875 2224.2656,1008.9844 L2224.2656,1007.8906 C2224.2656,1006.1094 2225.5156,1004.7969 2227.25,1004.7969 C2227.8281,1004.7969 2228.4375,1004.9531 2228.9063,1005.2031 C2229.3906,1005.4844 2229.5625,1005.7031 2229.6563,1006.1094 C2229.7188,1006.5156 2229.75,1006.6406 2229.8906,1006.7656 C2230.0313,1006.9063 2230.2656,1007.0156 2230.4844,1007.0156 C2230.75,1007.0156 2231.0156,1006.875 2231.1875,1006.6563 C2231.2969,1006.5 2231.3281,1006.3125 2231.3281,1005.8906 L2231.3281,1004.4688 C2231.3281,1004.0313 2231.3125,1003.9063 2231.2188,1003.75 C2231.0625,1003.4844 2230.7813,1003.3438 2230.4844,1003.3438 C2230.1875,1003.3438 2229.9844,1003.4375 2229.7656,1003.75 L2229.5938,1003.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="2247.75" y="1012.8467">Sommateur</text><line style="stroke:#181818;stroke-width:0.5;" x1="2046" x2="2501" y1="1024" y2="1024"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="2051" y="1040.9951">id:integer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2051" y="1057.292">shadow:boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="2046" x2="2501" y1="1064.5938" y2="1064.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="445" x="2051" y="1081.5889">Sommateur(id:integer,url:string, port:string, shadow:boolean)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="2051" y="1097.8857">waitOrTimeout(length:int)</text></g><!--MD5=[0c2f242d4496637827b4a0e9b290ed44]
class AppClient--><g id="elem_AppClient"><rect codeLine="80" fill="#F1F1F1" height="48" id="AppClient" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="7" y="813.5"/><ellipse cx="22" cy="829.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.3438,825.1719 C23.4063,824.7344 22.8125,824.5938 21.9375,824.5938 C19.3125,824.5938 17.3125,826.6719 17.3125,829.3906 L17.3125,830.5156 C17.3125,833.0938 19.4219,834.9844 22.3125,834.9844 C23.5313,834.9844 24.6875,834.6875 25.4375,834.1406 C26.0156,833.7344 26.3438,833.2813 26.3438,832.8906 C26.3438,832.4375 25.9531,832.0469 25.4844,832.0469 C25.2656,832.0469 25.0625,832.125 24.875,832.3125 C24.4219,832.7969 24.4219,832.7969 24.2344,832.8906 C23.8125,833.1563 23.125,833.2813 22.3594,833.2813 C20.3125,833.2813 19.0156,832.1875 19.0156,830.4844 L19.0156,829.3906 C19.0156,827.6094 20.2656,826.2969 22,826.2969 C22.5781,826.2969 23.1875,826.4531 23.6563,826.7031 C24.1406,826.9844 24.3125,827.2031 24.4063,827.6094 C24.4688,828.0156 24.5,828.1406 24.6406,828.2656 C24.7813,828.4063 25.0156,828.5156 25.2344,828.5156 C25.5,828.5156 25.7656,828.375 25.9375,828.1563 C26.0469,828 26.0781,827.8125 26.0781,827.3906 L26.0781,825.9688 C26.0781,825.5313 26.0625,825.4063 25.9688,825.25 C25.8125,824.9844 25.5313,824.8438 25.2344,824.8438 C24.9375,824.8438 24.7344,824.9375 24.5156,825.25 L24.3438,825.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="36" y="834.3467">AppClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="111" y1="845.5" y2="845.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="111" y1="853.5" y2="853.5"/></g><!--MD5=[9fb3f83f6c36f79353ee9d60ec33f3e2]
reverse link IOC to O--><g id="link_IOC_O"><path codeLine="21" d="M1581.5,914.346 C1581.5,945.991 1581.5,981.434 1581.5,1007.793 " fill="none" id="IOC-backto-O" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1574.5,914.234,1581.5,894.234,1588.5,914.234,1574.5,914.234" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[297a3c5928b35bd3194548bfd3d0129a]
reverse link IV to V--><g id="link_IV_V"><path codeLine="36" d="M1250.5,468.369 C1250.5,481.521 1250.5,495.256 1250.5,508.806 " fill="none" id="IV-backto-V" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1243.5,468.289,1250.5,448.289,1257.5,468.289,1243.5,468.289" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[232f656f6974e8bb3ee8d29ce05a5bdc]
reverse link IDWS to DWS--><g id="link_IDWS_DWS"><path codeLine="48" d="M814.5,906.36 C814.5,936.815 814.5,972.024 814.5,999.657 " fill="none" id="IDWS-backto-DWS" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="807.5,906.187,814.5,886.187,821.5,906.187,807.5,906.187" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7f0b52535b60f5484463b55143a3845d]
link S to IS--><g id="link_S_IS"><path codeLine="77" d="M2347.56,1105.173 C2383.12,1131.901 2426.26,1164.333 2464.75,1193.265 " fill="none" id="S-to-IS" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2469.14,1187.811,2480.92,1205.424,2460.73,1199.002,2469.14,1187.811" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[119d4f99003ba0901f0cb913a4d4aba0]
link S to ISC--><g id="link_S_ISC"><path codeLine="78" d="M2260.56,1105.173 C2253.15,1137.102 2243.84,1177.171 2236.28,1209.69 " fill="none" id="S-to-ISC" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="2243.07,1211.416,2231.72,1229.313,2229.43,1208.248,2243.07,1211.416" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1cece09a8886608a9c6ffba476cb036a]
link AppClient to IDWS--><g id="link_AppClient_IDWS"><path codeLine="81" d="M112.29,837.5 C197.632,837.5 371.87,837.5 525.425,837.5 " fill="none" id="AppClient-to-IDWS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="530.879,837.5,521.879,833.5,525.879,837.5,521.879,841.5,530.879,837.5" style="stroke:#181818;stroke-width:1.0;"/><a href="id:integer,value:float" target="_top" title="id:integer,value:float" xlink:actuate="onRequest" xlink:href="id:integer,value:float" xlink:show="new" xlink:title="id:integer,value:float" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="134" x="132.5" y="830.5669">id:integer,value:float</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="266.5" y="830.5669">:json =  http://host/getCurrentStates()</text></g><!--MD5=[e0e1c8beed7dc29055be599babb45027]
link C to IV--><g id="link_C_IV"><path codeLine="83" d="M1250.5,219.32 C1250.5,250.36 1250.5,284.75 1250.5,313.92 " fill="none" id="C-to-IV" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1250.5,318.93,1254.5,309.93,1250.5,313.93,1246.5,309.93,1250.5,318.93" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="1251.5" y="264.0669">http://host/sommation?value=123.44&amp;id=1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1243.2102" y="239.3948">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1242.0625" y="308.095">1</text></g><!--MD5=[1643ecab35bdeabefcf7d5bcf03b65d0]
link V to IS--><g id="link_V_IS"><path codeLine="84" d="M1718.21,680.751 C2036.18,735.378 2417.31,824.522 2521.5,949 C2580.03,1018.921 2581.96,1129.114 2575.57,1200.214 " fill="none" id="V-to-IS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2575.1,1205.265,2579.9244,1196.6787,2575.5678,1200.2869,2571.9595,1195.9303,2575.1,1205.265" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="2512.5" y="937.0669">http://host/sommation?value=123.44&amp;id=1</text></g><!--MD5=[42228eb3d8303db69ed110463698c459]
link V to IDWS--><g id="link_V_IDWS"><path codeLine="85" d="M1044.31,720.014 C998.585,743.191 952.165,766.72 913.129,786.507 " fill="none" id="V-to-IDWS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="908.405,788.901,918.2411,788.3997,912.8648,786.6404,914.6241,781.2641,908.405,788.901" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[56e995f8810e77d588e967110fe387c5]
link V to IOC--><g id="link_V_IOC"><path codeLine="87" d="M1407.28,720.175 C1437.09,740.085 1467.29,760.247 1493.98,778.067 " fill="none" id="V-to-IOC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1498.24,780.906,1492.969,772.5863,1494.0793,778.1332,1488.5325,779.2434,1498.24,780.906" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f5635ebbca817c90d4f0e372829137e9]
link O to ISC--><g id="link_O_ISC"><path codeLine="89" d="M1655.82,1089.033 C1706.59,1114.578 1776.1,1146.72 1840.5,1167 C1909.93,1188.862 1930.97,1179.021 2001.5,1197 C2035.69,1205.716 2072.32,1216.879 2105.72,1227.8 " fill="none" id="O-to-ISC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2110.62,1229.41,2103.3318,1222.7857,2105.873,1227.8396,2100.8191,1230.3808,2110.62,1229.41" style="stroke:#181818;stroke-width:1.0;"/><a href="id:integer,value:float" target="_top" title="id:integer,value:float" xlink:actuate="onRequest" xlink:href="id:integer,value:float" xlink:show="new" xlink:title="id:integer,value:float" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="134" x="1841.5" y="1148.0669">id:integer,value:float</text></a><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1975.5" y="1148.0669">:json= http://host/ctrl/getCurrentStates()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1983" y="1163.1997">http://host/ctrl/kill</text></g><!--MD5=[560dec62116960d835118bb6a5a47655]
link V to SI--><g id="link_V_SI"><path codeLine="91" d="M1182.01,720.32 C1172.3,739.787 1163.82,760.475 1158.5,781 C1145.9,829.615 1149.52,844.588 1158.5,894 C1178.44,1003.663 1228.66,1122.976 1263.45,1196.886 " fill="none" id="V-SI" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1251.5076" y="1186.0348">3</text></g><!--MD5=[eddef3f12b7c043f77c0863fb52cd0a8]
link O to SI--><g id="link_O_SI"><path codeLine="92" d="M1530.43,1089.25 C1491.94,1119.209 1438.11,1161.112 1392.1,1196.924 " fill="none" id="O-SI" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1393.2369" y="1185.6996">3</text></g><!--MD5=[2bc821043e0d176300f3099baa2c75a1]
@startuml
package SystemeSommation{

  class "SommateurInfo" as SI {
    id:integer,
    url:string,
    port:string
    static string filename
    static sommateurs:Sommateur[3] = readFromFile(filename:string)
    static saveToFile(filename:string)
  }
  Interface "IOrchestrateurCtrl" as IOC {
      sommateurDefectueux(idSommateur:integer)
      sommateurFonctionnel = getSommateurFonctionne(idSommateurDefectueux:integer)
      nouveauSommateur:ISommateurCtrl = createSommateur(id:integer, states:[id:integer,value:float],vote:IVote)
      replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)
  }
  class "Orchestrateur" as O {
    sommateurs:ISommateurCtrl[3]
    Orchestrateur(sommateurInfo:ISommateurInfo[3])
  }
  IOC <|.. O

  interface "ISommateur" as IV {
      [id,value] = updatedSommation(\nidSommateur:integer,\nshadow:boolean,\nidCapteur:integer, \nvalue:float)
  }
  class "Vote" as V {
    Vote(dataWebServer:IDataWebServer,orchestrateur:IOrchestrateurCtrl,sommateurInfo:SommateurInfo[3],securityToken:string)
    [value,idSommateurInError]=\ncanSendSommationData(\nid1,value1,id2,value2,id3,value3)
    url:string
    port:string
    securityToken:string
    sommateurs:ISommateur[3]
    orchestrateur:IOrchestrateurCtrl
    dataWebServer:IDataWebServer
  }
  IV <|.d. V

  interface "IDataWebServer" as IDWS {
    updateData(id:integer, name:string, value:float)
    token:string = authenticate(clientId:string, clientKey:string)
    res:[capteur_id:integer,value:float] = getSommationData(clientToken:string)
  }
  class "DataWebServer" as DWS {
    DataWebServer(url:string, port:string)
    url:string
    port:string
  }
  IDWS <|.. DWS
}
package Capteur{
  class "Capteur" as C{
      id:integer
      frequence:int 
      name:string
      value:float
      urlSommateur: string
      portSommateur:string
      token: string
      Capteur(id:integer,frequence:int,  name:string,  urlSommateur:string, portSommateur:string, sommateurToken:string)
  }
}

package Sommateur{
interface "ISommateur" as IS {
  [id,value] = updatedSommation(\nidSommateur:integer,\nshadow:boolean,\nidCapteur:integer, \nvalue:float)
}
interface "ISommateurCtrl" as ISC {
  states:[id:integer,value:float]=getCurrentState()
  kill()
}
class "Sommateur" as S{
    id:integer
    shadow:boolean
    Sommateur(id:integer,url:string, port:string, shadow:boolean)
     waitOrTimeout(length:int)  
}
S ..|> IS
S ..|> ISC 
}
class AppClient
AppClient -r-> IDWS: [[id:integer,value:float]]:json =  http://host/getCurrentStates()

C "*" - -> "1" IV: http://host/sommation?value=123.44&id=1
V - -> IS: http://host/sommation?value=123.44&id=1
V - -> IDWS

V - -> IOC

O - -> ISC: [[id:integer,value:float]]:json= http://host/ctrl/getCurrentStates()\nhttp://host/ctrl/kill

V - - "3" SI
O - - "3" SI
@enduml

PlantUML version 1.2022.10beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>