<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="552px" preserveAspectRatio="none" style="width:1845px;height:552px;background:#FFFFFF;" version="1.1" viewBox="0 0 1845 552" width="1845px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="438.5" x2="438.5" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="841" x2="841" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1086" x2="1086" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1407" x2="1407" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1654" x2="1654" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1790" x2="1790" y1="336.875" y2="545.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="5" y="77.9951">vote:IVote</text><ellipse cx="46.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M46.5,21.5 L46.5,48.5 M33.5,29.5 L59.5,29.5 M46.5,48.5 L33.5,63.5 M46.5,48.5 L59.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="356.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="363.5" y="69.9951">monitor:IMonitorCtrl</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="757" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="764" y="69.9951">map&lt;id,Sommateur&gt;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="301" x="936" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287" x="943" y="69.9951">sommateurFonctionnel:ISommateurCtrl</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="321" x="1247" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="1254" y="69.9951">&lt;&lt;sommateurDefectueux:ISommateurCtrl</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="1578" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1585" y="69.9951">switch:ISommateur</text><polygon fill="#181818" points="426.5,108.4297,436.5,112.4297,426.5,116.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46.5" x2="432.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="53.5" y="107.3638">sommateurDefectueux(vote:IVote,idSommateur:integer)</text><polygon fill="#181818" points="829.5,137.5625,839.5,141.5625,829.5,145.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="835.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="445.5" y="136.4966">sommateurDefectueux = get(idSommateur:integer)</text><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="480.5" y1="185.8281" y2="185.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="480.5" x2="480.5" y1="185.8281" y2="198.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="439.5" x2="480.5" y1="198.8281" y2="198.8281"/><polygon fill="#181818" points="449.5,194.8281,439.5,198.8281,449.5,202.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="445.5" y="165.6294">sommateurFonctionnel =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="389" x="445.5" y="180.7622">getSommateurFonctionne(idSommateurDefectueux:integer)</text><path d="M1061,211.8281 L1061,236.8281 L1649,236.8281 L1649,221.8281 L1639,211.8281 L1061,211.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1639,211.8281 L1639,221.8281 L1649,221.8281 L1639,211.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="567" x="1067" y="228.895">Il faudrait peut être mette la switch sur pause le temps d'ajouter le nouveau sommateur</text><polygon fill="#181818" points="1074.5,259.0938,1084.5,263.0938,1074.5,267.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="1080.5" y1="263.0938" y2="263.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="445.5" y="258.0278">capteurs:Capteur[]=getCapteurs()</text><path d="M443,276.0938 L443,301.0938 L794,301.0938 L794,286.0938 L784,276.0938 L443,276.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M784,276.0938 L784,286.0938 L794,286.0938 L784,276.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="449" y="293.1606">Doit passer par l'api docker de la machine virtuelle?</text><polygon fill="#181818" points="1729,323.3594,1739,327.3594,1729,331.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="1735" y1="327.3594" y2="327.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="445.5" y="322.2935">nouveauSommateur = new(id:integer, capteur:Capteur[],vote:IVote)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1741" y="306.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1748" y="326.2217">Sommateur</text><path d="M1111,352.5234 L1111,377.5234 L1649,377.5234 L1649,362.5234 L1639,352.5234 L1111,352.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1639,352.5234 L1639,362.5234 L1649,362.5234 L1639,352.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="517" x="1117" y="369.5903">est ce que le monitorCtrl connait la ISWITCH pour ajouter le nouveau sommateur</text><polygon fill="#181818" points="1642.5,399.7891,1652.5,403.7891,1642.5,407.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="1648.5" y1="403.7891" y2="403.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="587" x="445.5" y="398.7231">replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)</text><polygon fill="#181818" points="829.5,428.9219,839.5,432.9219,829.5,436.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="835.5" y1="432.9219" y2="432.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319" x="445.5" y="427.856">add(id:integer, nouveauSommateur:ISommateur)</text><path d="M443,445.9219 L443,500.9219 L609,500.9219 L609,455.9219 L599,445.9219 L443,445.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M599,445.9219 L599,455.9219 L609,455.9219 L599,445.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="449" y="462.9888">envoie la commande</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="449" y="478.1216">au serveur docker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="449" y="493.2544">de la machine virtuelle</text><polygon fill="#181818" points="1395.5,523.4531,1405.5,527.4531,1395.5,531.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="438.5" x2="1401.5" y1="527.4531" y2="527.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="445.5" y="522.3872">kill()</text><!--MD5=[389bb9ea7ac033873542995e4440b9d7]
@startuml
skinparam style strictuml 
Actor "vote:IVote" as IV
participant "monitor:IMonitorCtrl" as IMC
participant "map<id,Sommateur>" as map
participant "sommateurFonctionnel:ISommateurCtrl" as ISF
participant "<<sommateurDefectueux:ISommateurCtrl" as ISD
participant "switch:ISommateur" as ISW

IV -> IMC: sommateurDefectueux(vote:IVote,idSommateur:integer)
IMC -> map: sommateurDefectueux = get(idSommateur:integer)
IMC -> IMC: sommateurFonctionnel = \ngetSommateurFonctionne(idSommateurDefectueux:integer)
note left of ISW: Il faudrait peut être mette la switch sur pause le temps d'ajouter le nouveau sommateur
IMC -> ISF: capteurs:Capteur[]=getCapteurs()
note right of IMC: Doit passer par l'api docker de la machine virtuelle?
IMC -> Sommateur**: nouveauSommateur = new(id:integer, capteur:Capteur[],vote:IVote)
note left of ISW: est ce que le monitorCtrl connait la ISWITCH pour ajouter le nouveau sommateur
IMC -> ISW: replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)
IMC -> map: add(id:integer, nouveauSommateur:ISommateur)
note right of IMC: envoie la commande \nau serveur docker\nde la machine virtuelle
IMC -> ISD: kill()

' participant "<<interface>>\nISwitch" as SW
' participant "<<interface>>\nISommateur" as IS
' participant "<<interface>>\nISommateurCtrl" as ISC
' participant "<<interface>>\nISwitchCtrl" as ISWC
' participant "<<interface webServer>>\nIDataWebServer" as IDWS
@enduml

@startuml
skinparam style strictuml 
Actor "vote:IVote" as IV
participant "monitor:IMonitorCtrl" as IMC
participant "map<id,Sommateur>" as map
participant "sommateurFonctionnel:ISommateurCtrl" as ISF
participant "<<sommateurDefectueux:ISommateurCtrl" as ISD
participant "switch:ISommateur" as ISW

IV -> IMC: sommateurDefectueux(vote:IVote,idSommateur:integer)
IMC -> map: sommateurDefectueux = get(idSommateur:integer)
IMC -> IMC: sommateurFonctionnel = \ngetSommateurFonctionne(idSommateurDefectueux:integer)
note left of ISW: Il faudrait peut être mette la switch sur pause le temps d'ajouter le nouveau sommateur
IMC -> ISF: capteurs:Capteur[]=getCapteurs()
note right of IMC: Doit passer par l'api docker de la machine virtuelle?
IMC -> Sommateur**: nouveauSommateur = new(id:integer, capteur:Capteur[],vote:IVote)
note left of ISW: est ce que le monitorCtrl connait la ISWITCH pour ajouter le nouveau sommateur
IMC -> ISW: replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)
IMC -> map: add(id:integer, nouveauSommateur:ISommateur)
note right of IMC: envoie la commande \nau serveur docker\nde la machine virtuelle
IMC -> ISD: kill()

@enduml

PlantUML version 1.2022.10beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>