<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1877px" preserveAspectRatio="none" style="width:2699px;height:1877px;background:#FFFFFF;" version="1.1" viewBox="0 0 2699 1877" width="2699px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="96.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1469" y="571.1484"/><rect fill="#FFFFFF" height="440.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1804" y="992.875"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="564" x="486" y="288.6875"/><rect fill="none" height="676.1172" style="stroke:#000000;stroke-width:1.5;" width="2206" x="486" y="917.4766"/><rect fill="none" height="192.7969" style="stroke:#000000;stroke-width:1.5;" width="518" x="2164" y="1095.4688"/><rect fill="none" height="90.3984" style="stroke:#000000;stroke-width:1.5;" width="336" x="2174" y="1190.8672"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="316" x="2184" y="1215"/><rect fill="none" height="175.7969" style="stroke:#000000;stroke-width:1.5;" width="1984" x="486" y="1642.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="52.5938" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="130" x2="130" y1="52.5938" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="621" x2="621" y1="191.7578" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="898" x2="898" y1="235.9063" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1183" x2="1183" y1="52.5938" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1474" x2="1474" y1="549.4492" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1809" x2="1809" y1="52.5938" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2075" x2="2075" y1="52.5938" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2275" x2="2275" y1="1036.5234" y2="1870.6563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2519" x2="2519" y1="1077.8203" y2="1870.6563"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="5" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="12" y="41.292">main:App</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="99" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="106" y="41.292">:Client</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="266" x="1050" y="15.5938"/><ellipse cx="1068" cy="33.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1068.9531,30.375 L1070.6719,30.375 C1071.0625,30.375 1071.25,30.3438 1071.375,30.2656 C1071.6406,30.1094 1071.7813,29.8281 1071.7813,29.5313 C1071.7813,29.2656 1071.6719,29 1071.4375,28.8281 C1071.2656,28.7188 1071.125,28.6875 1070.6719,28.6875 L1065.5313,28.6875 C1065.0938,28.6875 1064.9688,28.7031 1064.8125,28.7969 C1064.5625,28.9531 1064.4063,29.25 1064.4063,29.5313 C1064.4063,29.8125 1064.5469,30.0625 1064.7656,30.2344 C1064.9219,30.3438 1065.1094,30.375 1065.5313,30.375 L1067.25,30.375 L1067.25,36.8906 L1065.5313,36.8906 C1065.0938,36.8906 1064.9688,36.9063 1064.8125,37.0156 C1064.5625,37.1719 1064.4063,37.4531 1064.4063,37.75 C1064.4063,38 1064.5469,38.2656 1064.7656,38.4219 C1064.9219,38.5469 1065.125,38.5938 1065.5313,38.5938 L1070.6719,38.5938 C1071.4219,38.5938 1071.7813,38.3125 1071.7813,37.75 C1071.7813,37.4688 1071.6719,37.2188 1071.4375,37.0469 C1071.2656,36.9219 1071.125,36.8906 1070.6719,36.8906 L1068.9531,36.8906 L1068.9531,30.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="1085" y="35.5889">loadBalancer:ILoadBalancerCtrl</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226" x="1696" y="15.5938"/><ellipse cx="1714" cy="33.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1714.9531,30.375 L1716.6719,30.375 C1717.0625,30.375 1717.25,30.3438 1717.375,30.2656 C1717.6406,30.1094 1717.7813,29.8281 1717.7813,29.5313 C1717.7813,29.2656 1717.6719,29 1717.4375,28.8281 C1717.2656,28.7188 1717.125,28.6875 1716.6719,28.6875 L1711.5313,28.6875 C1711.0938,28.6875 1710.9688,28.7031 1710.8125,28.7969 C1710.5625,28.9531 1710.4063,29.25 1710.4063,29.5313 C1710.4063,29.8125 1710.5469,30.0625 1710.7656,30.2344 C1710.9219,30.3438 1711.1094,30.375 1711.5313,30.375 L1713.25,30.375 L1713.25,36.8906 L1711.5313,36.8906 C1711.0938,36.8906 1710.9688,36.9063 1710.8125,37.0156 C1710.5625,37.1719 1710.4063,37.4531 1710.4063,37.75 C1710.4063,38 1710.5469,38.2656 1710.7656,38.4219 C1710.9219,38.5469 1711.125,38.5938 1711.5313,38.5938 L1716.6719,38.5938 C1717.4219,38.5938 1717.7813,38.3125 1717.7813,37.75 C1717.7813,37.4688 1717.6719,37.2188 1717.4375,37.0469 C1717.2656,36.9219 1717.125,36.8906 1716.6719,36.8906 L1714.9531,36.8906 L1714.9531,30.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="1731" y="35.5889">&lt;&lt;loadBalancer2:IService</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="1966" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="1973" y="24.9951">&lt;&lt;loadBalancer2Services&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="2022" y="41.292">:List&lt;Service&gt;</text><rect fill="#FFFFFF" height="96.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1469" y="571.1484"/><rect fill="#FFFFFF" height="440.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1804" y="992.875"/><path d="M52,67.5938 L52,152.5938 L480,152.5938 L480,77.5938 L470,67.5938 L52,67.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M470,67.5938 L470,77.5938 L480,77.5938 L470,67.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="58" y="84.6606">bd = new BD()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="58" y="99.7935">service1 = new Service(bd:Ibd)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="58" y="114.9263">servcice2=new Service(bd:Ibd)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="58" y="130.0591">service3 = new Service(bd:Ibd)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="58" y="145.1919">loadBalancer = new LoadBalancer([service1,service2,service3])</text><polygon fill="#181818" points="484,175.3906,494,179.3906,484,183.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="47" x2="490" y1="179.3906" y2="179.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425" x="54" y="174.3247">create(loadBalancer:ILoadBalancer,services:List&lt;IService&gt;,bd:Ibd)</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="496" y="158.2578"/><ellipse cx="514" cy="176.2578" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M514.9531,173.0391 L516.6719,173.0391 C517.0625,173.0391 517.25,173.0078 517.375,172.9297 C517.6406,172.7734 517.7813,172.4922 517.7813,172.1953 C517.7813,171.9297 517.6719,171.6641 517.4375,171.4922 C517.2656,171.3828 517.125,171.3516 516.6719,171.3516 L511.5313,171.3516 C511.0938,171.3516 510.9688,171.3672 510.8125,171.4609 C510.5625,171.6172 510.4063,171.9141 510.4063,172.1953 C510.4063,172.4766 510.5469,172.7266 510.7656,172.8984 C510.9219,173.0078 511.1094,173.0391 511.5313,173.0391 L513.25,173.0391 L513.25,179.5547 L511.5313,179.5547 C511.0938,179.5547 510.9688,179.5703 510.8125,179.6797 C510.5625,179.8359 510.4063,180.1172 510.4063,180.4141 C510.4063,180.6641 510.5469,180.9297 510.7656,181.0859 C510.9219,181.2109 511.125,181.2578 511.5313,181.2578 L516.6719,181.2578 C517.4219,181.2578 517.7813,180.9766 517.7813,180.4141 C517.7813,180.1328 517.6719,179.8828 517.4375,179.7109 C517.2656,179.5859 517.125,179.5547 516.6719,179.5547 L514.9531,179.5547 L514.9531,173.0391 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="531" y="178.2529">orchestrateur:IOrchestrateur</text><polygon fill="#181818" points="745,222.3906,755,226.3906,745,230.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="751" y1="226.3906" y2="226.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="628.5" y="221.3247">create()</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="283" x="757" y="205.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="764" y="225.2529">orchestrateurServices:List&lt;IService&gt;</text><path d="M52,251.5547 L52,276.5547 L349,276.5547 L349,261.5547 L339,251.5547 L52,251.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M339,251.5547 L339,261.5547 L349,261.5547 L339,251.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="58" y="268.6216">loadBalancer.setOrchestrator(orchestrator)</text><path d="M486,288.6875 L564,288.6875 L564,295.8203 L554,305.8203 L486,305.8203 L486,288.6875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="564" x="486" y="288.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="501" y="301.7544">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="579" y="300.8979">[i &lt; services.length]</text><polygon fill="#181818" points="886.5,322.9531,896.5,326.9531,886.5,330.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="892.5" y1="326.9531" y2="326.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="628.5" y="321.8872">add(services[i])</text><path d="M626,346.9531 L626,386.9531 L768,386.9531 L768,356.9531 L758,346.9531 L626,346.9531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M758,346.9531 L758,356.9531 L768,356.9531 L758,346.9531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="632" y="364.02">each secondes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="632" y="379.1528">Tactique ping/echo</text><polygon fill="#181818" points="1171,409.3516,1181,413.3516,1171,417.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="1177" y1="413.3516" y2="413.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="628.5" y="408.2856">echo = ping()</text><polygon fill="#181818" points="1171,462.6172,1181,466.6172,1171,470.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="1177" y1="466.6172" y2="466.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="628.5" y="461.5513">kill()</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1174" x2="1192" y1="457.6172" y2="475.6172"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1174" x2="1192" y1="475.6172" y2="457.6172"/><path d="M626,479.6172 L626,504.6172 L877,504.6172 L877,489.6172 L867,479.6172 L626,479.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M867,479.6172 L867,489.6172 L877,489.6172 L867,479.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="632" y="496.6841">tactique de spare et reconfiguration</text><polygon fill="#181818" points="1314,557.1484,1324,561.1484,1314,565.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="1320" y1="561.1484" y2="561.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="628.5" y="525.8169">create(adresseIp:string,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="628.5" y="540.9497">port:integer,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="628.5" y="556.0825">orchestrateur:IOrchestrateur)</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="296" x="1326" y="522.1484"/><ellipse cx="1344" cy="540.1484" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1344.9531,536.9297 L1346.6719,536.9297 C1347.0625,536.9297 1347.25,536.8984 1347.375,536.8203 C1347.6406,536.6641 1347.7813,536.3828 1347.7813,536.0859 C1347.7813,535.8203 1347.6719,535.5547 1347.4375,535.3828 C1347.2656,535.2734 1347.125,535.2422 1346.6719,535.2422 L1341.5313,535.2422 C1341.0938,535.2422 1340.9688,535.2578 1340.8125,535.3516 C1340.5625,535.5078 1340.4063,535.8047 1340.4063,536.0859 C1340.4063,536.3672 1340.5469,536.6172 1340.7656,536.7891 C1340.9219,536.8984 1341.1094,536.9297 1341.5313,536.9297 L1343.25,536.9297 L1343.25,543.4453 L1341.5313,543.4453 C1341.0938,543.4453 1340.9688,543.4609 1340.8125,543.5703 C1340.5625,543.7266 1340.4063,544.0078 1340.4063,544.3047 C1340.4063,544.5547 1340.5469,544.8203 1340.7656,544.9766 C1340.9219,545.1016 1341.125,545.1484 1341.5313,545.1484 L1346.6719,545.1484 C1347.4219,545.1484 1347.7813,544.8672 1347.7813,544.3047 C1347.7813,544.0234 1347.6719,543.7734 1347.4375,543.6016 C1347.2656,543.4766 1347.125,543.4453 1346.6719,543.4453 L1344.9531,543.4453 L1344.9531,536.9297 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="1361" y="542.1436">&lt;&lt;loadBalancer2:ILoadBalancerCtrl</text><polygon fill="#181818" points="632.5,586.2813,622.5,590.2813,632.5,594.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="626.5" x2="1468" y1="590.2813" y2="590.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="638.5" y="585.2153">services:List&lt;IService&gt; = getServices()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1479" x2="1521" y1="619.4141" y2="619.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1521" x2="1521" y1="619.4141" y2="632.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1480" x2="1521" y1="632.4141" y2="632.4141"/><polygon fill="#181818" points="1490,628.4141,1480,632.4141,1490,636.4141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="1486" y="614.3481">setServices(services:List&lt;IService&gt;)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1479" x2="1521" y1="666.5469" y2="666.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="1521" x2="1521" y1="666.5469" y2="679.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="1474" x2="1521" y1="679.5469" y2="679.5469"/><polygon fill="#181818" points="1484,675.5469,1474,679.5469,1484,683.5469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1486" y="661.481">setOrchestrateur(orchestrateur4:IOrchestrateur)</text><polygon fill="#181818" points="1462,699.6797,1472,703.6797,1462,707.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="1468" y1="703.6797" y2="703.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="628.5" y="698.6138">echo = ping()</text><path d="M626,716.6797 L626,756.6797 L982,756.6797 L982,726.6797 L972,716.6797 L626,716.6797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M972,716.6797 L972,726.6797 L982,726.6797 L972,716.6797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="632" y="733.7466">Client utilise une tactique de retry</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="632" y="748.8794">avec un délai d'au moins un seconde et 3 tentatives</text><polygon fill="#181818" points="1797,779.0781,1807,783.0781,1797,787.0781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="130" x2="1803" y1="783.0781" y2="783.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="137" y="778.0122">info = request(.....)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1851" y1="812.2109" y2="812.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1851" x2="1851" y1="812.2109" y2="825.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1810" x2="1851" y1="825.2109" y2="825.2109"/><polygon fill="#181818" points="1820,821.2109,1810,825.2109,1820,829.2109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1816" y="807.145">nbSevice = getNbServices()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1851" y1="854.3438" y2="854.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1851" x2="1851" y1="854.3438" y2="867.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1810" x2="1851" y1="867.3438" y2="867.3438"/><polygon fill="#181818" points="1820,863.3438,1810,867.3438,1820,871.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="1816" y="849.2778">nbRequest = getNbRequest()</text><path d="M1650,880.3438 L1650,905.3438 L1804,905.3438 L1804,890.3438 L1794,880.3438 L1650,880.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1794,880.3438 L1794,890.3438 L1804,890.3438 L1794,880.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="1656" y="897.4106">Il manque de service</text><path d="M486,917.4766 L552,917.4766 L552,924.6094 L542,934.6094 L486,934.6094 L486,917.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="676.1172" style="stroke:#000000;stroke-width:1.5;" width="2206" x="486" y="917.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="501" y="930.5435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197" x="567" y="929.687">[nbservice  &lt;  nbRequest / 10]</text><polygon fill="#181818" points="632.5,951.7422,622.5,955.7422,632.5,959.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="626.5" x2="1808" y1="955.7422" y2="955.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="638.5" y="950.6763">bd:Ibd = getBd()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1856" y1="979.875" y2="979.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1856" x2="1856" y1="979.875" y2="992.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1815" x2="1856" y1="992.875" y2="992.875"/><polygon fill="#181818" points="1825,988.875,1815,992.875,1825,996.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="1821" y="974.8091">addNewService(bd:IBD)</text><polygon fill="#181818" points="2182,1023.0078,2192,1027.0078,2182,1031.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1814" x2="2188" y1="1027.0078" y2="1027.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1821" y="1021.9419">nextService = create(ibd:IBD)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162" x="2194" y="1005.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="2201" y="1025.8701">nextService:IService</text><polygon fill="#181818" points="2354,1064.3047,2364,1068.3047,2354,1072.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2360" y1="1068.3047" y2="1068.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="2282" y="1063.2388">create()</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="306" x="2366" y="1047.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="2373" y="1067.167">nextServiceRequests:List&lt;RequesInfot&gt;</text><path d="M2164,1095.4688 L2242,1095.4688 L2242,1102.6016 L2232,1112.6016 L2164,1112.6016 L2164,1095.4688 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="192.7969" style="stroke:#000000;stroke-width:1.5;" width="518" x="2164" y="1095.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="2179" y="1108.5356">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="39" x="2257" y="1107.6792">[true]</text><polygon fill="#181818" points="2507,1129.7344,2517,1133.7344,2507,1137.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2513" y1="1133.7344" y2="1133.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="2282" y="1128.6685">requestInfo = pop()</text><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2317" y1="1162.8672" y2="1162.8672"/><line style="stroke:#181818;stroke-width:1.0;" x1="2317" x2="2317" y1="1162.8672" y2="1175.8672"/><line style="stroke:#181818;stroke-width:1.0;" x1="2276" x2="2317" y1="1175.8672" y2="1175.8672"/><polygon fill="#181818" points="2286,1171.8672,2276,1175.8672,2286,1179.8672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="2282" y="1157.8013">execute(requestInfo)</text><path d="M2174,1190.8672 L2246,1190.8672 L2246,1198 L2236,1208 L2174,1208 L2174,1190.8672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.3984" style="stroke:#000000;stroke-width:1.5;" width="336" x="2174" y="1190.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="2189" y="1203.9341">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="158" x="2261" y="1203.0776">[stopIfNoMoreRequest]</text><path d="M2184,1215 L2256,1215 L2256,1222.1328 L2246,1232.1328 L2184,1232.1328 L2184,1215 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="316" x="2184" y="1215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="2199" y="1228.0669">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="224" x="2271" y="1227.2104">[nextServiceRequest.length == 0]</text><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2317" y1="1253.2656" y2="1253.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2317" x2="2317" y1="1253.2656" y2="1266.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2276" x2="2317" y1="1266.2656" y2="1266.2656"/><polygon fill="#181818" points="2286,1262.2656,2276,1266.2656,2286,1270.2656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="2282" y="1248.1997">exit()</text><polygon fill="#181818" points="2063,1312.3984,2073,1316.3984,2063,1320.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1814" x2="2069" y1="1316.3984" y2="1316.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1821" y="1311.3325">add(nextService:IService)</text><polygon fill="#181818" points="632.5,1341.5313,622.5,1345.5313,632.5,1349.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="626.5" x2="1803" y1="1345.5313" y2="1345.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="638.5" y="1340.4653">addService(nextService:IService)</text><polygon fill="#181818" points="886.5,1370.6641,896.5,1374.6641,886.5,1378.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="892.5" y1="1374.6641" y2="1374.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="628.5" y="1369.5981">add(nextService:Iservice)</text><polygon fill="#181818" points="2263,1399.7969,2273,1403.7969,2263,1407.7969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1814" x2="2269" y1="1403.7969" y2="1403.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="1821" y="1398.731">info = request(requestInfo:RequestInfo)</text><polygon fill="#181818" points="2507,1428.9297,2517,1432.9297,2507,1436.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2513" y1="1432.9297" y2="1432.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="2282" y="1427.8638">add(requestInfo:RequestInfo)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486" x2="2692" y1="1441.9297" y2="1441.9297"/><path d="M1814,1447.9297 L1814,1487.9297 L2156,1487.9297 L2156,1457.9297 L2146,1447.9297 L1814,1447.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2146,1447.9297 L2146,1457.9297 L2156,1457.9297 L2146,1447.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="1820" y="1464.9966">round robin ou spécifier comment vous choisissez</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1820" y="1480.1294">le prochain service à utiliser</text><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="1851" y1="1514.3281" y2="1514.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1851" x2="1851" y1="1514.3281" y2="1527.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1810" x2="1851" y1="1527.3281" y2="1527.3281"/><polygon fill="#181818" points="1820,1523.3281,1810,1527.3281,1820,1531.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="1816" y="1509.2622">nextService=getNextAvailableService()</text><polygon fill="#181818" points="2263,1552.4609,2273,1556.4609,2263,1560.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="2269" y1="1556.4609" y2="1556.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="1816" y="1551.395">info = request(requestInfo:RequestInfo)</text><polygon fill="#181818" points="2507,1581.5938,2517,1585.5938,2507,1589.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2513" y1="1585.5938" y2="1585.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="2282" y="1580.5278">add(requestInfo:RequestInfo)</text><path d="M1653,1605.5938 L1653,1630.5938 L1804,1630.5938 L1804,1615.5938 L1794,1605.5938 L1653,1605.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1794,1605.5938 L1794,1615.5938 L1804,1615.5938 L1794,1605.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1659" y="1622.6606">il y a trop de service</text><path d="M486,1642.7266 L558,1642.7266 L558,1649.8594 L548,1659.8594 L486,1659.8594 L486,1642.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="175.7969" style="stroke:#000000;stroke-width:1.5;" width="1984" x="486" y="1642.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="27" x="501" y="1655.7935">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197" x="573" y="1654.937">[nbservice  &gt;  nbRequest / 10]</text><polygon fill="#181818" points="2263,1676.9922,2273,1680.9922,2263,1684.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="2269" y1="1680.9922" y2="1680.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1816" y="1675.9263">stopWhenNoMoreRequest()</text><line style="stroke:#181818;stroke-width:1.0;" x1="2275" x2="2317" y1="1710.125" y2="1710.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2317" x2="2317" y1="1710.125" y2="1723.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2276" x2="2317" y1="1723.125" y2="1723.125"/><polygon fill="#181818" points="2286,1719.125,2276,1723.125,2286,1727.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2282" y="1705.0591">stopWhenNoMoreRequest()</text><polygon fill="#181818" points="2063,1748.2578,2073,1752.2578,2063,1756.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1809" x2="2069" y1="1752.2578" y2="1752.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1816" y="1747.1919">remove(nextService)</text><polygon fill="#181818" points="632.5,1777.3906,622.5,1781.3906,632.5,1785.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="626.5" x2="1808" y1="1781.3906" y2="1781.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="638.5" y="1776.3247">removeService(nextService)</text><polygon fill="#181818" points="886.5,1806.5234,896.5,1810.5234,886.5,1814.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="621.5" x2="892.5" y1="1810.5234" y2="1810.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="628.5" y="1805.4575">remove(nextService:Iservice)</text><path d="M626,1830.5234 L626,1855.5234 L1777,1855.5234 L1777,1840.5234 L1767,1830.5234 L626,1830.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1767,1830.5234 L1767,1840.5234 L1777,1840.5234 L1767,1830.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="1130" x="632" y="1847.5903">Il faudrait étudier comment fonctionne le reply pour permettre au service de répondre directement au client sans passer par le loadBalancer pour minimiser la charge de celui-ci</text><!--MD5=[e9e65d24cccd8970249ce289c4d2df32]
@startuml
skinparam style strictuml 
Participant "main:App" as App
Participant ":Client" as C
participant "orchestrateur:IOrchestrateur" as O << (I,#ADD1B2) >>
participant "orchestrateurServices:List<IService>" as OLS
participant "loadBalancer:ILoadBalancerCtrl" as LBC << (I,#ADD1B2) >>
' participant "loadbalancer2:LoadBalancer" as LB2 << (C,#ADD1B2) >>
participant "<<loadBalancer2:ILoadBalancerCtrl" as ILB2C << (I,#ADD1B2) >>
participant "<<loadBalancer2:IService" as IS << (I,#ADD1B2) >>
participant "<<loadBalancer2Services>>\n:List<Service>" as LS
participant "nextService:IService" as NS
participant "nextServiceRequests:List<RequesInfot>" as NSR
note right of App: bd = new BD()\nservice1 = new Service(bd:Ibd)\nservcice2=new Service(bd:Ibd)\nservice3 = new Service(bd:Ibd)\nloadBalancer = new LoadBalancer([service1,service2,service3])
App -> O**: create(loadBalancer:ILoadBalancer,services:List<IService>,bd:Ibd)
O -> OLS**: create()
note right of App: loadBalancer.setOrchestrator(orchestrator)
loop  i < services.length
   O -> OLS:  add(services[i])
end
note right of O: each secondes\nTactique ping/echo 
O  ->  LBC: echo = ping()
opt echo  == null
O -> LBC: kill()
destroy LBC
note right of O: tactique de spare et reconfiguration
O -> ILB2C**: create(adresseIp:string, \nport:integer,\norchestrateur:IOrchestrateur)
activate ILB2C
ILB2C -> O: services:List<IService> = getServices()
ILB2C -> ILB2C: setServices(services:List<IService>)
ILB2C -> ILB2C: setOrchestrateur(orchestrateur4:IOrchestrateur)
deactivate ILB2C

O -> ILB2C: echo = ping()
note right of O: Client utilise une tactique de retry \navec un délai d'au moins un seconde et 3 tentatives
C -> IS: info = request(.....)
IS -> IS: nbSevice = getNbServices()
IS -> IS: nbRequest = getNbRequest()

note left of IS: Il manque de service
alt  nbservice  <  nbRequest / 10
    IS -> O: bd:Ibd = getBd()
    IS -> IS: addNewService(bd:IBD)
    activate IS
        IS -> NS**: nextService = create(ibd:IBD)
        NS -> NSR**: create()
        loop true
            NS -> NSR: requestInfo = pop()
            NS -> NS: execute(requestInfo)
            opt stopIfNoMoreRequest
            opt nextServiceRequest.length == 0
            NS -> NS: exit()
            end
            end
        end
        IS -> LS:add(nextService:IService)
        IS -> O: addService(nextService:IService)
        O -> OLS: add(nextService:Iservice)
        IS -> NS: info = request(requestInfo:RequestInfo)
        NS -> NSR: add(requestInfo:RequestInfo)
    deactivate IS
else
    note right of IS: round robin ou spécifier comment vous choisissez\nle prochain service à utiliser
    IS -> IS: nextService=getNextAvailableService()
    IS -> NS: info = request(requestInfo:RequestInfo)
    NS -> NSR: add(requestInfo:RequestInfo)

   
end
note left of IS: il y a trop de service
opt  nbservice  >  nbRequest / 10
    IS -> NS: stopWhenNoMoreRequest()
    NS -> NS: stopWhenNoMoreRequest()
    IS->LS:remove(nextService)
    IS->O:removeService(nextService)
    O -> OLS: remove(nextService:Iservice)
    ' IS->NS: kill()
end
note right of O: Il faudrait étudier comment fonctionne le reply pour permettre au service de répondre directement au client sans passer par le loadBalancer pour minimiser la charge de celui-ci
@enduml

@startuml
skinparam style strictuml 
Participant "main:App" as App
Participant ":Client" as C
participant "orchestrateur:IOrchestrateur" as O << (I,#ADD1B2) >>
participant "orchestrateurServices:List<IService>" as OLS
participant "loadBalancer:ILoadBalancerCtrl" as LBC << (I,#ADD1B2) >>
participant "<<loadBalancer2:ILoadBalancerCtrl" as ILB2C << (I,#ADD1B2) >>
participant "<<loadBalancer2:IService" as IS << (I,#ADD1B2) >>
participant "<<loadBalancer2Services>>\n:List<Service>" as LS
participant "nextService:IService" as NS
participant "nextServiceRequests:List<RequesInfot>" as NSR
note right of App: bd = new BD()\nservice1 = new Service(bd:Ibd)\nservcice2=new Service(bd:Ibd)\nservice3 = new Service(bd:Ibd)\nloadBalancer = new LoadBalancer([service1,service2,service3])
App -> O**: create(loadBalancer:ILoadBalancer,services:List<IService>,bd:Ibd)
O -> OLS**: create()
note right of App: loadBalancer.setOrchestrator(orchestrator)
loop  i < services.length
   O -> OLS:  add(services[i])
end
note right of O: each secondes\nTactique ping/echo 
O  ->  LBC: echo = ping()
opt echo  == null
O -> LBC: kill()
destroy LBC
note right of O: tactique de spare et reconfiguration
O -> ILB2C**: create(adresseIp:string, \nport:integer,\norchestrateur:IOrchestrateur)
activate ILB2C
ILB2C -> O: services:List<IService> = getServices()
ILB2C -> ILB2C: setServices(services:List<IService>)
ILB2C -> ILB2C: setOrchestrateur(orchestrateur4:IOrchestrateur)
deactivate ILB2C

O -> ILB2C: echo = ping()
note right of O: Client utilise une tactique de retry \navec un délai d'au moins un seconde et 3 tentatives
C -> IS: info = request(.....)
IS -> IS: nbSevice = getNbServices()
IS -> IS: nbRequest = getNbRequest()

note left of IS: Il manque de service
alt  nbservice  <  nbRequest / 10
    IS -> O: bd:Ibd = getBd()
    IS -> IS: addNewService(bd:IBD)
    activate IS
        IS -> NS**: nextService = create(ibd:IBD)
        NS -> NSR**: create()
        loop true
            NS -> NSR: requestInfo = pop()
            NS -> NS: execute(requestInfo)
            opt stopIfNoMoreRequest
            opt nextServiceRequest.length == 0
            NS -> NS: exit()
            end
            end
        end
        IS -> LS:add(nextService:IService)
        IS -> O: addService(nextService:IService)
        O -> OLS: add(nextService:Iservice)
        IS -> NS: info = request(requestInfo:RequestInfo)
        NS -> NSR: add(requestInfo:RequestInfo)
    deactivate IS
else
    note right of IS: round robin ou spécifier comment vous choisissez\nle prochain service à utiliser
    IS -> IS: nextService=getNextAvailableService()
    IS -> NS: info = request(requestInfo:RequestInfo)
    NS -> NSR: add(requestInfo:RequestInfo)

   
end
note left of IS: il y a trop de service
opt  nbservice  >  nbRequest / 10
    IS -> NS: stopWhenNoMoreRequest()
    NS -> NS: stopWhenNoMoreRequest()
    IS->LS:remove(nextService)
    IS->O:removeService(nextService)
    O -> OLS: remove(nextService:Iservice)
end
note right of O: Il faudrait étudier comment fonctionne le reply pour permettre au service de répondre directement au client sans passer par le loadBalancer pour minimiser la charge de celui-ci
@enduml

PlantUML version 1.2022.10beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>