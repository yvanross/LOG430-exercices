<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="552px" preserveAspectRatio="none" style="width:1717px;height:552px;background:#FFFFFF;" version="1.1" viewBox="0 0 1717 552" width="1717px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367.5" x2="367.5" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="770" x2="770" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1015" x2="1015" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1325" x2="1325" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1544" x2="1544" y1="81.2969" y2="545.4531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1662" x2="1662" y1="336.875" y2="545.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="5" y="77.9951">vote:IVote</text><ellipse cx="46.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M46.5,21.5 L46.5,48.5 M33.5,29.5 L59.5,29.5 M46.5,48.5 L33.5,63.5 M46.5,48.5 L59.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="242.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="249.5" y="69.9951">orchestrateur:IOrchestrateurCtrl</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="686" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="693" y="69.9951">map&lt;id,Sommateur&gt;</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="301" x="865" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287" x="872" y="69.9951">sommateurFonctionnel:ISommateurCtrl</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="299" x="1176" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="1183" y="69.9951">sommateurDefectueux:ISommateurCtrl</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1485" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1492" y="69.9951">vote:IVoteCtrl</text><polygon fill="#181818" points="355.5,108.4297,365.5,112.4297,355.5,116.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46.5" x2="361.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="53.5" y="107.3638">sommateurDefectueux(idSommateur:integer)</text><polygon fill="#181818" points="758.5,137.5625,768.5,141.5625,758.5,145.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="764.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="374.5" y="136.4966">sommateurDefectueux = get(idSommateur:integer)</text><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="409.5" y1="185.8281" y2="185.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="409.5" x2="409.5" y1="185.8281" y2="198.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="368.5" x2="409.5" y1="198.8281" y2="198.8281"/><polygon fill="#181818" points="378.5,194.8281,368.5,198.8281,378.5,202.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="374.5" y="165.6294">sommateurFonctionnel =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="389" x="374.5" y="180.7622">getSommateurFonctionne(idSommateurDefectueux:integer)</text><path d="M372,211.8281 L372,236.8281 L960,236.8281 L960,221.8281 L950,211.8281 L372,211.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M950,211.8281 L950,221.8281 L960,221.8281 L950,211.8281 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="567" x="378" y="228.895">Il faudrait peut être mette la switch sur pause le temps d'ajouter le nouveau sommateur</text><polygon fill="#181818" points="1003.5,259.0938,1013.5,263.0938,1003.5,267.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="1009.5" y1="263.0938" y2="263.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="374.5" y="258.0278">states:[id:integer,value:float]=getCurrentState()</text><path d="M372,276.0938 L372,301.0938 L723,301.0938 L723,286.0938 L713,276.0938 L372,276.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M713,276.0938 L713,286.0938 L723,286.0938 L713,276.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="378" y="293.1606">Doit passer par l'api docker de la machine virtuelle?</text><polygon fill="#181818" points="1601,323.3594,1611,327.3594,1601,331.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="1607" y1="327.3594" y2="327.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="516" x="374.5" y="322.2935">nouveauSommateur = new(id:integer, states:[id:integer,value:float],vote:IVote)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1613" y="306.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1620" y="326.2217">Sommateur</text><path d="M372,352.5234 L372,377.5234 L910,377.5234 L910,362.5234 L900,352.5234 L372,352.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M900,352.5234 L900,362.5234 L910,362.5234 L900,352.5234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="517" x="378" y="369.5903">est ce que le monitorCtrl connait la ISWITCH pour ajouter le nouveau sommateur</text><polygon fill="#181818" points="1532,399.7891,1542,403.7891,1532,407.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="1538" y1="403.7891" y2="403.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="587" x="374.5" y="398.7231">replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)</text><polygon fill="#181818" points="758.5,428.9219,768.5,432.9219,758.5,436.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="764.5" y1="432.9219" y2="432.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319" x="374.5" y="427.856">add(id:integer, nouveauSommateur:ISommateur)</text><path d="M372,445.9219 L372,500.9219 L538,500.9219 L538,455.9219 L528,445.9219 L372,445.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M528,445.9219 L528,455.9219 L538,455.9219 L528,445.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="378" y="462.9888">envoie la commande</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="378" y="478.1216">au serveur docker</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="378" y="493.2544">de la machine virtuelle</text><polygon fill="#181818" points="1313.5,523.4531,1323.5,527.4531,1313.5,531.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="1319.5" y1="527.4531" y2="527.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="374.5" y="522.3872">kill()</text><!--MD5=[8b3109b232ca876053179a79786bdeba]
@startuml
skinparam style strictuml 
Actor "vote:IVote" as IV
participant "orchestrateur:IOrchestrateurCtrl" as IOC
participant "map<id,Sommateur>" as map
participant "sommateurFonctionnel:ISommateurCtrl" as ISF
participant "sommateurDefectueux:ISommateurCtrl" as ISD
participant "vote:IVoteCtrl" as IVC

IV -> IOC: sommateurDefectueux(idSommateur:integer)
IOC -> map: sommateurDefectueux = get(idSommateur:integer)
IOC -> IOC: sommateurFonctionnel = \ngetSommateurFonctionne(idSommateurDefectueux:integer)
note right of IOC: Il faudrait peut être mette la switch sur pause le temps d'ajouter le nouveau sommateur
IOC -> ISF: states:[id:integer,value:float]=getCurrentState()
note right of IOC: Doit passer par l'api docker de la machine virtuelle?
IOC -> Sommateur**: nouveauSommateur = new(id:integer, states:[id:integer,value:float],vote:IVote)
note right of IOC: est ce que le monitorCtrl connait la ISWITCH pour ajouter le nouveau sommateur
IOC -> IVC: replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)
IOC -> map: add(id:integer, nouveauSommateur:ISommateur)
note right of IOC: envoie la commande \nau serveur docker\nde la machine virtuelle
IOC -> ISD: kill()

' participant "<<interface>>\nISwitch" as SW
' participant "<<interface>>\nISommateur" as IS
' participant "<<interface>>\nISommateurCtrl" as ISC
' participant "<<interface>>\nISwitchCtrl" as ISWC
' participant "<<interface webServer>>\nIDataWebServer" as IDWS
@enduml

@startuml
skinparam style strictuml 
Actor "vote:IVote" as IV
participant "orchestrateur:IOrchestrateurCtrl" as IOC
participant "map<id,Sommateur>" as map
participant "sommateurFonctionnel:ISommateurCtrl" as ISF
participant "sommateurDefectueux:ISommateurCtrl" as ISD
participant "vote:IVoteCtrl" as IVC

IV -> IOC: sommateurDefectueux(idSommateur:integer)
IOC -> map: sommateurDefectueux = get(idSommateur:integer)
IOC -> IOC: sommateurFonctionnel = \ngetSommateurFonctionne(idSommateurDefectueux:integer)
note right of IOC: Il faudrait peut être mette la switch sur pause le temps d'ajouter le nouveau sommateur
IOC -> ISF: states:[id:integer,value:float]=getCurrentState()
note right of IOC: Doit passer par l'api docker de la machine virtuelle?
IOC -> Sommateur**: nouveauSommateur = new(id:integer, states:[id:integer,value:float],vote:IVote)
note right of IOC: est ce que le monitorCtrl connait la ISWITCH pour ajouter le nouveau sommateur
IOC -> IVC: replaceSommateur(sommateurDefectueux:ISommateur,nouveauSommateur:ISommateur)
IOC -> map: add(id:integer, nouveauSommateur:ISommateur)
note right of IOC: envoie la commande \nau serveur docker\nde la machine virtuelle
IOC -> ISD: kill()

@enduml

PlantUML version 1.2022.10beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>